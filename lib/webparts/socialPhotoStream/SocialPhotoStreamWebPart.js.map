{"version":3,"sources":["webparts/socialPhotoStream/SocialPhotoStreamWebPart.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;;;;;GAMG;AACH,8DAQoC;AACpC,8DAAqD;AAErD,kDAAoD;AAGpD,yGAAwG;AAExG,0BAA4B;AAC5B,OAAO,CAAC,cAAc,CAAC,CAAC;AAExB;IAAsD,4CAAqD;IAIzG;;;OAGG;IACH,kCAAmB,OAAyB;QAA5C,YACE,iBAAO,SAOR;QALC,KAAI,CAAC,IAAI,GAAG,KAAI,CAAC,OAAO,EAAE,CAAC;QAE3B,4EAA4E;QAC5E,yCAAyC;QACzC,KAAI,CAAC,0BAA0B,GAAG,KAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;;IAC/E,CAAC;IAMD,sBAAc,iDAAW;QAJzB;;;WAGG;aACH;YACE,MAAM,CAAC,yBAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QAC9B,CAAC;;;OAAA;IAED;;;OAGG;IACI,yCAAM,GAAb;QAEE,IAAI,IAAI,GAAG,EAAE,CAAC,CAAA,EAAE;QAEhB,IAAI,IAAI,6JAWD,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,KAAK,qBAC9B,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,MAAM,gEAG1B,IAAI,CAAC,UAAU,CAAC,OAAO,8BACtB,IAAI,CAAC,UAAU,CAAC,OAAO,mDAI/B,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,KAAK,qBAC9B,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,MAAM,yBAGvC,CAAC;QAEF,IAAI,IAAK,WAAW,GAAG,IAAI,CAAC,IAAI,GAAG,+BAA+B,CAAC;QAEnE,IAAI,CAAC,UAAU,CAAC,SAAS,GAAG,IAAI,CAAC;QAE9B,CAAS,CAAC,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,YAAY,CAAC;YACvC,aAAa,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO;YACtC,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK;YAC5B,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,QAAQ;YAClC,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO;YAChC,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS;YACtC,MAAM,EAAE,KAAK;SACd,CAAC,CAAC;IACP,CAAC;IAED;;;OAGG;IACK,0CAAO,GAAf;QACE,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,GAAG,IAAI,CAAC,EAAE,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,EAAE,GAAG,GAAG;YACpE,IAAI,CAAC,EAAE,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,EAAE,GAAG,IAAI,CAAC,EAAE,EAAE,GAAG,IAAI,CAAC,EAAE,EAAE,CAAC;IACxD,CAAC;IAED;;;OAGG;IACK,qCAAE,GAAV;QACI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,GAAG,OAAO,CAAC;aAC7C,QAAQ,CAAC,EAAE,CAAC;aACZ,SAAS,CAAC,CAAC,CAAC,CAAC;IACpB,CAAC;IAED;;;OAGG;IACO,+DAA4B,GAAtC;QACE,MAAM,CAAC;YACL,KAAK,EAAE;gBACL;oBACE,MAAM,EAAE;wBACN,WAAW,EAAE,OAAO,CAAC,uBAAuB;qBAC7C;oBACD,wBAAwB,EAAE,KAAK;oBAC/B,MAAM,EAAE;wBACN;4BACE,SAAS,EAAE,OAAO,CAAC,cAAc;4BACjC,WAAW,EAAE;gCACX,sCAAoB,CAAC,SAAS,EAAE;oCAC9B,KAAK,EAAE,OAAO,CAAC,OAAO;oCACtB,OAAO,EAAE;wCACP,EAAC,GAAG,EAAE,WAAW,EAAE,IAAI,EAAE,WAAW,EAAC;wCACrC,EAAC,GAAG,EAAE,WAAW,EAAE,IAAI,EAAE,WAAW,EAAC;wCACrC,EAAC,GAAG,EAAE,QAAQ,EAAE,IAAI,EAAE,QAAQ,EAAC;wCAC/B,EAAC,GAAG,EAAE,QAAQ,EAAE,IAAI,EAAE,QAAQ,EAAC;wCAC/B,EAAC,GAAG,EAAE,YAAY,EAAE,IAAI,EAAE,YAAY,EAAC;wCACvC,EAAC,GAAG,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAC;qCACpC;iCACF,CAAC;gCACF,uCAAqB,CAAC,UAAU,EAAE;oCAChC,KAAK,EAAE,OAAO,CAAC,QAAQ;iCACxB,CAAC;gCACF,uCAAqB,CAAC,WAAW,EAAE;oCACjC,KAAK,EAAE,OAAO,CAAC,SAAS;iCACzB,CAAC;gCACF,oCAAkB,CAAC,OAAO,EAAE;oCAC1B,KAAK,EAAE,OAAO,CAAC,KAAK;oCACpB,GAAG,EAAE,CAAC;oCACN,GAAG,EAAE,GAAG;oCACR,IAAI,EAAE,CAAC;iCACR,CAAC;gCACF,oCAAkB,CAAC,SAAS,EAAE;oCAC5B,KAAK,EAAE,OAAO,CAAC,OAAO;iCACvB,CAAC;gCACF,2DAA4B,CAAC,WAAW,EAAE;oCACxC,KAAK,EAAE,OAAO,CAAC,SAAS;oCACxB,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS;oCACvC,aAAa,EAAE,IAAI;oCACnB,oBAAoB,EAAE,IAAI;oCAC1B,gBAAgB,EAAE,IAAI,CAAC,0BAA0B;oCACjD,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;oCAC9B,8BAA8B,EAAE,IAAI,CAAC,8BAA8B;oCACnE,UAAU,EAAE,IAAI,CAAC,UAAU;oCAC3B,QAAQ,EAAE,KAAK;oCACf,iBAAiB,EAAE,IAAI;oCACvB,sBAAsB,EAAE,CAAC;oCACzB,GAAG,EAAE,mCAAmC;iCACzC,CAAC;gCACF,oCAAkB,CAAC,SAAS,EAAE;oCAC5B,KAAK,EAAE,OAAO,CAAC,OAAO;oCACtB,GAAG,EAAE,CAAC;oCACN,GAAG,EAAE,EAAE;oCACP,IAAI,EAAE,CAAC;iCACR,CAAC;6BACH;yBACF;qBACF;iBACF;aACF;SACF,CAAC;IACJ,CAAC;IACH,+BAAC;AAAD,CAlKA,AAkKC,CAlKqD,uCAAqB,GAkK1E","file":"webparts/socialPhotoStream/SocialPhotoStreamWebPart.js","sourcesContent":["/**\r\n * @file\r\n * Social Photo Stream Web Part for SharePoint Framework SPFx\r\n *\r\n * Author: Olivier Carpentier\r\n * Copyright (c) 2016\r\n */\r\nimport {\r\n  BaseClientSideWebPart,\r\n  IPropertyPaneConfiguration,\r\n  PropertyPaneTextField,\r\n  PropertyPaneSlider,\r\n  PropertyPaneDropdown,\r\n  PropertyPaneToggle,\r\n  IWebPartContext\r\n} from '@microsoft/sp-webpart-base';\r\nimport { Version } from '@microsoft/sp-core-library';\r\n\r\nimport * as strings from 'SocialPhotoStreamStrings';\r\nimport { ISocialPhotoStreamWebPartProps } from './ISocialPhotoStreamWebPartProps';\r\n\r\nimport { PropertyFieldDimensionPicker } from 'sp-client-custom-fields/lib/PropertyFieldDimensionPicker';\r\n\r\nimport * as $ from 'jquery';\r\nrequire('socialStream');\r\n\r\nexport default class SocialPhotoStreamWebPart extends BaseClientSideWebPart<ISocialPhotoStreamWebPartProps> {\r\n\r\n  private guid: string;\r\n\r\n  /**\r\n   * @function\r\n   * Web part contructor.\r\n   */\r\n  public constructor(context?: IWebPartContext) {\r\n    super();\r\n\r\n    this.guid = this.getGuid();\r\n\r\n    //Hack: to invoke correctly the onPropertyChange function outside this class\r\n    //we need to bind this object on it first\r\n    this.onPropertyPaneFieldChanged = this.onPropertyPaneFieldChanged.bind(this);\r\n  }\r\n\r\n  /**\r\n   * @function\r\n   * Gets WP data version\r\n   */\r\n  protected get dataVersion(): Version {\r\n    return Version.parse('1.0');\r\n  }\r\n\r\n  /**\r\n   * @function\r\n   * Renders HTML code\r\n   */\r\n  public render(): void {\r\n\r\n    var html = '';//\r\n\r\n    html += `\r\n<style>\r\n.socialstream {\r\n  width: 100%;\r\n  margin: 0 auto;\r\n  display: block;\r\n  padding: 0px;\r\n  display: table;\r\n}\r\n\r\n.socialstream li {\r\n  width: ${this.properties.dimension.width};\r\n  height: ${this.properties.dimension.height};\r\n  list-style: none;\r\n  float: left;\r\n  margin-right: ${this.properties.spacing}px;\r\n  margin-bottom: ${this.properties.spacing}px;\r\n}\r\n\r\n.socialstream li img {\r\n  width: ${this.properties.dimension.width};\r\n  height: ${this.properties.dimension.height};\r\n}\r\n</style>\r\n    `;\r\n\r\n    html +=  '<div id=\"' + this.guid + '\" class=\"socialstream\"></div>';\r\n\r\n    this.domElement.innerHTML = html;\r\n\r\n      ($ as any)('#' + this.guid).socialstream({\r\n        socialnetwork: this.properties.network,\r\n        limit: this.properties.limit,\r\n        username: this.properties.userName,\r\n        overlay: this.properties.overlay,\r\n        accessToken: this.properties.accessKey,\r\n        apikey: false\r\n      });\r\n  }\r\n\r\n  /**\r\n   * @function\r\n   * Generates a GUID\r\n   */\r\n  private getGuid(): string {\r\n    return this.s4() + this.s4() + '-' + this.s4() + '-' + this.s4() + '-' +\r\n      this.s4() + '-' + this.s4() + this.s4() + this.s4();\r\n  }\r\n\r\n  /**\r\n   * @function\r\n   * Generates a GUID part\r\n   */\r\n  private s4(): string {\r\n      return Math.floor((1 + Math.random()) * 0x10000)\r\n        .toString(16)\r\n        .substring(1);\r\n  }\r\n\r\n  /**\r\n   * @function\r\n   * PropertyPanel settings definition\r\n   */\r\n  protected getPropertyPaneConfiguration(): IPropertyPaneConfiguration {\r\n    return {\r\n      pages: [\r\n        {\r\n          header: {\r\n            description: strings.PropertyPaneDescription\r\n          },\r\n          displayGroupsAsAccordion: false,\r\n          groups: [\r\n            {\r\n              groupName: strings.BasicGroupName,\r\n              groupFields: [\r\n                PropertyPaneDropdown('network', {\r\n                  label: strings.network,\r\n                  options: [\r\n                    {key: 'pinterest', text: 'Pinterest'},\r\n                    {key: 'instagram', text: 'Instagram'},\r\n                    {key: 'flickr', text: 'Flickr'},\r\n                    {key: 'picasa', text: 'Picasa'},\r\n                    {key: 'deviantart', text: 'Deviantart'},\r\n                    {key: 'dribbble', text: 'Dribbble'}\r\n                  ]\r\n                }),\r\n                PropertyPaneTextField('userName', {\r\n                  label: strings.userName\r\n                }),\r\n                PropertyPaneTextField('accessKey', {\r\n                  label: strings.accessKey\r\n                }),\r\n                PropertyPaneSlider('limit', {\r\n                  label: strings.limit,\r\n                  min: 1,\r\n                  max: 100,\r\n                  step: 1\r\n                }),\r\n                PropertyPaneToggle('overlay', {\r\n                  label: strings.overlay\r\n                }),\r\n                PropertyFieldDimensionPicker('dimension', {\r\n                  label: strings.dimension,\r\n                  initialValue: this.properties.dimension,\r\n                  preserveRatio: true,\r\n                  preserveRatioEnabled: true,\r\n                  onPropertyChange: this.onPropertyPaneFieldChanged,\r\n                  render: this.render.bind(this),\r\n                  disableReactivePropertyChanges: this.disableReactivePropertyChanges,\r\n                  properties: this.properties,\r\n                  disabled: false,\r\n                  onGetErrorMessage: null,\r\n                  deferredValidationTime: 0,\r\n                  key: 'socialPhotoStreamDimensionFieldId'\r\n                }),\r\n                PropertyPaneSlider('spacing', {\r\n                  label: strings.spacing,\r\n                  min: 0,\r\n                  max: 30,\r\n                  step: 1\r\n                })\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    };\r\n  }\r\n}\r\n"],"sourceRoot":"..\\..\\..\\src"}